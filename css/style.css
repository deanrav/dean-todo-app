* { margin:0; padding:0; box-sizing:border-box; }
html, body { min-height:100dvh; font-family:'Segoe UI',sans-serif; background:#f8fafc; color:#1e293b; overflow-x:hidden; }
body.dark { background:#0f172a; color:#e2e8f0; }

body { padding-top: 90px; display:flex; flex-direction:column; }
.header { position:fixed; top:0; left:0; right:0; z-index:1000; background:rgba(248,250,252,.98); backdrop-filter:blur(12px); padding:16px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #e2e8f0; }
body.dark .header { background:rgba(15,23,42,.98); border-bottom:none; }

.logo { font-size:1.9rem; font-weight:900; background:linear-gradient(135deg,#3b82f6,#8b5cf6); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
.controls { display:flex; gap:12px; align-items:center; flex-wrap:wrap; }

#searchInput { padding:12px 16px; border-radius:50px; border:2px solid #cbd5e1; background:white; width:200px; }
body.dark #searchInput { background:#1e293b; border-color:#475569; color:#e2e8f0; }

#langSelect { padding:10px 16px; border-radius:50px; border:2px solid #cbd5e1; background:white; }
body.dark #langSelect { background:#1e293b; border-color:#475569; color:#e2e8f0; }

.theme-toggle { width:64px; height:34px; background:#cbd5e1; border-radius:50px; position:relative; cursor:pointer; overflow:hidden; }
.theme-toggle .sun, .theme-toggle .moon { position:absolute; top:50%; transform:translateY(-50%); font-size:18px; transition:.4s; }
.theme-toggle .sun { left:10px; }
.theme-toggle .moon { right:10px; opacity:0; }
body.dark .theme-toggle { background:#3b82f6; }
body.dark .theme-toggle .sun { opacity:0; left:-20px; }
body.dark .theme-toggle .moon { opacity:1; right:10px; }

.container { flex:1; padding:0 16px 100px; max-width:1000px; margin:0 auto; width:100%; }
.input-group { display:grid; grid-template-columns:1fr 1fr 1fr 1fr auto; gap:14px; margin:24px 0; align-items:end; }
#taskInput, #deadlineInput { grid-column:1/-1; padding:16px 20px; border-radius:18px; border:none; background:white; box-shadow:0 8px 30px rgba(0,0,0,.1); font-size:16px; }
body.dark #taskInput, body.dark #deadlineInput { background:#1e293b; color:#e2e8f0; }

#prioritySelect, #categorySelect { padding:16px; border-radius:18px; background:white; box-shadow:0 8px 30px rgba(0,0,0,.1); font-size:15px; }
body.dark #prioritySelect, body.dark #categorySelect { background:#1e293b; color:#e2e8f0; }

#addBtn { width:64px; height:64px; border-radius:50%; background:#3b82f6; color:white; font-size:36px; border:none; box-shadow:0 12px 40px rgba(59,130,246,.4); }

.progress-wrapper { margin:30px 0; }
.progress-bar { height:14px; background:#e2e8f0; border-radius:50px; overflow:hidden; position:relative; }
body.dark .progress-bar { background:#334155; }
#progressFill { height:100%; width:0%; background:linear-gradient(90deg,#10b981,#059669); transition:width .8s ease; }
#progressText { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-weight:700; font-size:14px; color:#64748b; }
body.dark #progressText { color:#94a3b8; }

.tabs { display:flex; gap:12px; margin:20px 0; overflow-x:auto; padding-bottom:8px; }
.tab { padding:12px 20px; border-radius:50px; background:#e2e8f0; color:#64748b; font-weight:600; white-space:nowrap; }
.tab.active { background:#3b82f6; color:white; }

.task { background:white; padding:18px; margin:16px 0; border-radius:20px; box-shadow:0 8px 30px rgba(0,0,0,.08); position:relative; overflow:hidden; display:flex; align-items:center; gap:16px; flex-wrap:wrap; }
body.dark .task { background:#1e293b; }
.task::before { content:''; position:absolute; left:0; top:0; bottom:0; width:8px; border-radius:8px 0 0 8px; }
.task.low::before { background:#10b981; }
.task.medium::before { background:#f59e0b; }
.task.high::before { background:#f97316; }
.task.urgent::before { background:#ef4444; animation:pulse 2s infinite; }

.task input[type="checkbox"] { width:28px; height:28px; cursor:pointer; }
.task-text { flex:1; font-size:1.1rem; font-weight:500; }
.category-tag { padding:8px 16px; border-radius:50px; background:#e0e7ff; color:#4338ca; font-weight:600; font-size:13px; }
body.dark .category-tag { background:#3730a3; color:#c7d2fe; }
.deadline { font-size:13px; color:#64748b; }
body.dark .deadline { color:#94a3b8; }

.footer { padding:20px; text-align:center; font-size:14px; color:#64748b; border-top:1px solid #e2e8f0; background:rgba(248,250,252,.9); backdrop-filter:blur(10px); }
body.dark .footer { background:rgba(15,23,42,.9); border-top:none; color:#94a3b8; }

.toast { position:fixed; bottom:100px; left:50%; transform:translateX(-50%); background:#1e293b; color:white; padding:16px 32px; border-radius:50px; opacity:0; visibility:hidden; transition:.4s; z-index:9999; box-shadow:0 10px 30px rgba(0,0,0,.3); }
.toast.show { opacity:1; visibility:visible; }
#undoBtn { color:#60a5fa; font-weight:bold; text-decoration:underline; cursor:pointer; }

@media (max-width: 768px) {
  .input-group { grid-template-columns:1fr; }
  #addBtn { width:100%; height:64px; border-radius:20px; }
  .controls { width:100%; justify-content:space-between; }
  #searchInput { width:100%; }
}